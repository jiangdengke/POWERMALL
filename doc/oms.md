#### 获取全部订单接口

1. 通过Sa-Token提供的获取的用户user_id，然后去订单表根据user_id去查出对应的订单。

2. 再通过每个订单id去找到每一个订单项。（就是这一个订单中有什么商品）

3. 然后再返回总的List<orderVO>  。

#### 确认订单
##### 从商品详情页下单
从商品详情页下单的话，肯定要传skuId和count。对应的service层实现，通过雪花算法生成订单编号，然后通过skuId和count调用商品微服务，看看对应的sku库存还有没有，如果没有则返回库存不足，如果库存够，则往下进行，返回这一个订单信息，并把订单编号存入redis中。 
##### 从购物车下单
如果是从购物车下单的话，就从redis中拿到购物车中的商品，然后通过购物车中所有的商品的skuId和count，去循环调用商品微服务，看看库存还有没有，如果没有，则返回对应商品不足的信息，如果有的话就根据这个购物车生成一个orderVO对象返回,并把订单编号存入redis中。
#### 提交订单
首先接受订单编号和订单描述，付款类型，订单总金额，购买商品明细封成的实体。首先从redis总拿到订单编号,存在这个订单就把订单编号从redis中删除。然后从传来的订单项总递归检测商品是否下架，以及价格是否发生变化。如果没问题，就调用商品微服务扣减库存,然后计算总金额,存入订单表，以及订单明细表。同时发送订单id到rabbitmq的oms.order(延迟交换机)的cancel队列里面，同时传一个message,这个message里面可以设置delay的时间，代表这多长时间之后执行这个方法，在这个队列调用的方法里面就是取消订单的方法
#### 取消订单
接收订单编号，然后查到对应的订单，设置订单的状态，并且调用商品微服务释放库存。
